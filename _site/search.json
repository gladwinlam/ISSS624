[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ISSS624",
    "section": "",
    "text": "In this webpage, I am going to share with you my learning journey of Geo-spatial analytics."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "1 + 1\n\n[1] 2"
  },
  {
    "objectID": "Hands_on_Ex_1.html",
    "href": "Hands_on_Ex_1.html",
    "title": "Hands-on Exercise 1",
    "section": "",
    "text": "Doing Geo spatial Analysis\n\npacman::p_load(sf, tidyverse)  #load more than 1 library one shot\n\nImport into Polygon data Frame\n\nmpsz = st_read(dsn = \"Hands-on_Ex01/data/geospatial\", \n                  layer = \"MP14_SUBZONE_WEB_PL\")\n\nReading layer `MP14_SUBZONE_WEB_PL' from data source \n  `/Users/gladwinlam/R Quarto/gladwinlam/ISSS624/Hands-on_Ex01/data/geospatial' \n  using driver `ESRI Shapefile'\nSimple feature collection with 323 features and 15 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33\nProjected CRS: SVY21\n\n\nCRS is coordinate system. SVY21 coordinate system 323 polygon features 15 fields\nImport into line feature data Frame\n\ncyclingpath = st_read(dsn = \"Hands-on_Ex01/data/geospatial\", \n                         layer = \"CyclingPathGazette\")\n\nReading layer `CyclingPathGazette' from data source \n  `/Users/gladwinlam/R Quarto/gladwinlam/ISSS624/Hands-on_Ex01/data/geospatial' \n  using driver `ESRI Shapefile'\nSimple feature collection with 2248 features and 2 fields\nGeometry type: MULTILINESTRING\nDimension:     XY\nBounding box:  xmin: 11854.32 ymin: 28347.98 xmax: 42626.09 ymax: 48948.15\nProjected CRS: SVY21\n\n\nImporting kml data frame\n\npreschool = st_read(\"Hands-on_Ex01/data/geospatial/pre-schools-location-kml.kml\")\n\nReading layer `PRESCHOOLS_LOCATION' from data source \n  `/Users/gladwinlam/R Quarto/gladwinlam/ISSS624/Hands-on_Ex01/data/geospatial/pre-schools-location-kml.kml' \n  using driver `KML'\nSimple feature collection with 1925 features and 2 fields\nGeometry type: POINT\nDimension:     XYZ\nBounding box:  xmin: 103.6824 ymin: 1.247759 xmax: 103.9897 ymax: 1.462134\nz_range:       zmin: 0 zmax: 0\nGeodetic CRS:  WGS 84\n\n\nCRS is WGS84 system\nAccessing the column geometries which is in class SFC\n\nst_geometry(mpsz)\n\nGeometry set for 323 features \nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33\nProjected CRS: SVY21\nFirst 5 geometries:\n\n\nMULTIPOLYGON (((31495.56 30140.01, 31980.96 296...\n\n\nMULTIPOLYGON (((29092.28 30021.89, 29119.64 300...\n\n\nMULTIPOLYGON (((29932.33 29879.12, 29947.32 298...\n\n\nMULTIPOLYGON (((27131.28 30059.73, 27088.33 297...\n\n\nMULTIPOLYGON (((26451.03 30396.46, 26440.47 303...\n\n\nLearning more about attribute of of dataframe. Glimpse is from tidyverse\n\nglimpse(mpsz)\n\nRows: 323\nColumns: 16\n$ OBJECTID   <int> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, …\n$ SUBZONE_NO <int> 1, 1, 3, 8, 3, 7, 9, 2, 13, 7, 12, 6, 1, 5, 1, 1, 3, 2, 2, …\n$ SUBZONE_N  <chr> \"MARINA SOUTH\", \"PEARL'S HILL\", \"BOAT QUAY\", \"HENDERSON HIL…\n$ SUBZONE_C  <chr> \"MSSZ01\", \"OTSZ01\", \"SRSZ03\", \"BMSZ08\", \"BMSZ03\", \"BMSZ07\",…\n$ CA_IND     <chr> \"Y\", \"Y\", \"Y\", \"N\", \"N\", \"N\", \"N\", \"Y\", \"N\", \"N\", \"N\", \"N\",…\n$ PLN_AREA_N <chr> \"MARINA SOUTH\", \"OUTRAM\", \"SINGAPORE RIVER\", \"BUKIT MERAH\",…\n$ PLN_AREA_C <chr> \"MS\", \"OT\", \"SR\", \"BM\", \"BM\", \"BM\", \"BM\", \"SR\", \"QT\", \"QT\",…\n$ REGION_N   <chr> \"CENTRAL REGION\", \"CENTRAL REGION\", \"CENTRAL REGION\", \"CENT…\n$ REGION_C   <chr> \"CR\", \"CR\", \"CR\", \"CR\", \"CR\", \"CR\", \"CR\", \"CR\", \"CR\", \"CR\",…\n$ INC_CRC    <chr> \"5ED7EB253F99252E\", \"8C7149B9EB32EEFC\", \"C35FEFF02B13E0E5\",…\n$ FMEL_UPD_D <date> 2014-12-05, 2014-12-05, 2014-12-05, 2014-12-05, 2014-12-05…\n$ X_ADDR     <dbl> 31595.84, 28679.06, 29654.96, 26782.83, 26201.96, 25358.82,…\n$ Y_ADDR     <dbl> 29220.19, 29782.05, 29974.66, 29933.77, 30005.70, 29991.38,…\n$ SHAPE_Leng <dbl> 5267.381, 3506.107, 1740.926, 3313.625, 2825.594, 4428.913,…\n$ SHAPE_Area <dbl> 1630379.27, 559816.25, 160807.50, 595428.89, 387429.44, 103…\n$ geometry   <MULTIPOLYGON [m]> MULTIPOLYGON (((31495.56 30..., MULTIPOLYGON (…\n\n\n\nhead(mpsz, 5)\n\nSimple feature collection with 5 features and 15 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 25867.68 ymin: 28369.47 xmax: 32362.39 ymax: 30435.54\nProjected CRS: SVY21\n  OBJECTID SUBZONE_NO      SUBZONE_N SUBZONE_C CA_IND      PLN_AREA_N\n1        1          1   MARINA SOUTH    MSSZ01      Y    MARINA SOUTH\n2        2          1   PEARL'S HILL    OTSZ01      Y          OUTRAM\n3        3          3      BOAT QUAY    SRSZ03      Y SINGAPORE RIVER\n4        4          8 HENDERSON HILL    BMSZ08      N     BUKIT MERAH\n5        5          3        REDHILL    BMSZ03      N     BUKIT MERAH\n  PLN_AREA_C       REGION_N REGION_C          INC_CRC FMEL_UPD_D   X_ADDR\n1         MS CENTRAL REGION       CR 5ED7EB253F99252E 2014-12-05 31595.84\n2         OT CENTRAL REGION       CR 8C7149B9EB32EEFC 2014-12-05 28679.06\n3         SR CENTRAL REGION       CR C35FEFF02B13E0E5 2014-12-05 29654.96\n4         BM CENTRAL REGION       CR 3775D82C5DDBEFBD 2014-12-05 26782.83\n5         BM CENTRAL REGION       CR 85D9ABEF0A40678F 2014-12-05 26201.96\n    Y_ADDR SHAPE_Leng SHAPE_Area                       geometry\n1 29220.19   5267.381  1630379.3 MULTIPOLYGON (((31495.56 30...\n2 29782.05   3506.107   559816.2 MULTIPOLYGON (((29092.28 30...\n3 29974.66   1740.926   160807.5 MULTIPOLYGON (((29932.33 29...\n4 29933.77   3313.625   595428.9 MULTIPOLYGON (((27131.28 30...\n5 30005.70   2825.594   387429.4 MULTIPOLYGON (((26451.03 30..."
  },
  {
    "objectID": "Hands_on_Ex_1.html#getting-started",
    "href": "Hands_on_Ex_1.html#getting-started",
    "title": "Hands-on Exercise 1",
    "section": "Getting Started",
    "text": "Getting Started\nThis is the getting started paragraph\n---\ntitle: “Hands-on Exercise 1”\neditor: visual\n---\n\n1+2\n\n[1] 3"
  },
  {
    "objectID": "Hands_on_Ex_1.html#plotting-each-attribute-based-on-geospatial",
    "href": "Hands_on_Ex_1.html#plotting-each-attribute-based-on-geospatial",
    "title": "Hands-on Exercise 1",
    "section": "Plotting each attribute based on geospatial",
    "text": "Plotting each attribute based on geospatial\n\nplot(mpsz, max.plot = 15)\n\n\n\n\nPlot only geometry (only want the outline and nothing else)\n\nplot(st_geometry(mpsz))\n\n\n\n\nPlotting specific attribute\n\nplot(mpsz[\"PLN_AREA_N\"])\n\n\n\n\n\nmpsz[\"PLN_AREA_N\"]\n\nSimple feature collection with 323 features and 1 field\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33\nProjected CRS: SVY21\nFirst 10 features:\n        PLN_AREA_N                       geometry\n1     MARINA SOUTH MULTIPOLYGON (((31495.56 30...\n2           OUTRAM MULTIPOLYGON (((29092.28 30...\n3  SINGAPORE RIVER MULTIPOLYGON (((29932.33 29...\n4      BUKIT MERAH MULTIPOLYGON (((27131.28 30...\n5      BUKIT MERAH MULTIPOLYGON (((26451.03 30...\n6      BUKIT MERAH MULTIPOLYGON (((25899.7 297...\n7      BUKIT MERAH MULTIPOLYGON (((27746.95 30...\n8  SINGAPORE RIVER MULTIPOLYGON (((29351.26 29...\n9       QUEENSTOWN MULTIPOLYGON (((20996.49 30...\n10      QUEENSTOWN MULTIPOLYGON (((24472.11 29..."
  },
  {
    "objectID": "Hands_on_Ex_1.html#interlaying-features-with-different-coordinate-systems",
    "href": "Hands_on_Ex_1.html#interlaying-features-with-different-coordinate-systems",
    "title": "Hands-on Exercise 1",
    "section": "Interlaying features with different Coordinate Systems",
    "text": "Interlaying features with different Coordinate Systems\nNeed to transform different coordinate systems into same one\nSometimes during importing, the coordinate system might be wrong. need to check using st_crs()\n\nst_crs(mpsz) #SVY21 should be 3414 but in here is it 9001. SO wrongly tagged\n\nCoordinate Reference System:\n  User input: SVY21 \n  wkt:\nPROJCRS[\"SVY21\",\n    BASEGEOGCRS[\"SVY21[WGS84]\",\n        DATUM[\"World Geodetic System 1984\",\n            ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n                LENGTHUNIT[\"metre\",1]],\n            ID[\"EPSG\",6326]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"Degree\",0.0174532925199433]]],\n    CONVERSION[\"unnamed\",\n        METHOD[\"Transverse Mercator\",\n            ID[\"EPSG\",9807]],\n        PARAMETER[\"Latitude of natural origin\",1.36666666666667,\n            ANGLEUNIT[\"Degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",103.833333333333,\n            ANGLEUNIT[\"Degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",1,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",28001.642,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",38744.572,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"(E)\",east,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1,\n                ID[\"EPSG\",9001]]],\n        AXIS[\"(N)\",north,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1,\n                ID[\"EPSG\",9001]]]]\n\n\n\nmpsz3414 <- st_set_crs(mpsz, 3414) #change the code back to 3414\n\nWarning: st_crs<- : replacing crs does not reproject data; use st_transform for\nthat\n\nst_crs(mpsz3414) #checked and changed\n\nCoordinate Reference System:\n  User input: EPSG:3414 \n  wkt:\nPROJCRS[\"SVY21 / Singapore TM\",\n    BASEGEOGCRS[\"SVY21\",\n        DATUM[\"SVY21\",\n            ELLIPSOID[\"WGS 84\",6378137,298.257223563,\n                LENGTHUNIT[\"metre\",1]]],\n        PRIMEM[\"Greenwich\",0,\n            ANGLEUNIT[\"degree\",0.0174532925199433]],\n        ID[\"EPSG\",4757]],\n    CONVERSION[\"Singapore Transverse Mercator\",\n        METHOD[\"Transverse Mercator\",\n            ID[\"EPSG\",9807]],\n        PARAMETER[\"Latitude of natural origin\",1.36666666666667,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8801]],\n        PARAMETER[\"Longitude of natural origin\",103.833333333333,\n            ANGLEUNIT[\"degree\",0.0174532925199433],\n            ID[\"EPSG\",8802]],\n        PARAMETER[\"Scale factor at natural origin\",1,\n            SCALEUNIT[\"unity\",1],\n            ID[\"EPSG\",8805]],\n        PARAMETER[\"False easting\",28001.642,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8806]],\n        PARAMETER[\"False northing\",38744.572,\n            LENGTHUNIT[\"metre\",1],\n            ID[\"EPSG\",8807]]],\n    CS[Cartesian,2],\n        AXIS[\"northing (N)\",north,\n            ORDER[1],\n            LENGTHUNIT[\"metre\",1]],\n        AXIS[\"easting (E)\",east,\n            ORDER[2],\n            LENGTHUNIT[\"metre\",1]],\n    USAGE[\n        SCOPE[\"Cadastre, engineering survey, topographic mapping.\"],\n        AREA[\"Singapore - onshore and offshore.\"],\n        BBOX[1.13,103.59,1.47,104.07]],\n    ID[\"EPSG\",3414]]\n\n\nTo calculate distance you need projected coorindate systems (2D) vs geographic coordinate system (flat)\n\nst_geometry(preschool) #check geometry of preschool\n\nGeometry set for 1925 features \nGeometry type: POINT\nDimension:     XYZ\nBounding box:  xmin: 103.6824 ymin: 1.247759 xmax: 103.9897 ymax: 1.462134\nz_range:       zmin: 0 zmax: 0\nGeodetic CRS:  WGS 84\nFirst 5 geometries:\n\n\nPOINT Z (103.7009 1.338325 0)\n\n\nPOINT Z (103.8987 1.39044 0)\n\n\nPOINT Z (103.8068 1.438017 0)\n\n\nPOINT Z (103.7874 1.433436 0)\n\n\nPOINT Z (103.8886 1.395647 0)\n\n\nFrom one coordinate system to another need to reproject. Use ST_transform, cannot just use set_crs().This method does not reproject.\n\npreschool3414 <- st_transform(preschool, \n                              crs = 3414)\nst_geometry(preschool3414)\n\nGeometry set for 1925 features \nGeometry type: POINT\nDimension:     XYZ\nBounding box:  xmin: 11203.01 ymin: 25596.33 xmax: 45404.24 ymax: 49300.88\nz_range:       zmin: 0 zmax: 0\nProjected CRS: SVY21 / Singapore TM\nFirst 5 geometries:\n\n\nPOINT Z (13258.34 35611.04 0)\n\n\nPOINT Z (35272.09 41373.42 0)\n\n\nPOINT Z (25050.54 46634.14 0)\n\n\nPOINT Z (22892.48 46127.66 0)\n\n\nPOINT Z (34155.79 41949.13 0)\n\n\n\nAspatial Data\nNot geospatial but 2 columns with x and y axis\n\nlistings <- as_tibble(read.csv(\"Hands-on_Ex01/data/aspatial/listings.csv\"))\nhead(listings)\n\n# A tibble: 6 × 75\n      id listing_…¹ scrap…² last_…³ source name  descr…⁴ neigh…⁵ pictu…⁶ host_id\n   <dbl> <chr>        <dbl> <chr>   <chr>  <chr> <chr>   <chr>   <chr>     <int>\n1  50646 https://w… 2.02e13 2022-0… previ… Plea… \"Fully… \"The s… https:…  227796\n2  71609 https://w… 2.02e13 2022-0… city … Ensu… \"For 3… \"\"      https:…  367042\n3  71896 https://w… 2.02e13 2022-0… city … B&B … \"<b>Th… \"\"      https:…  367042\n4  71903 https://w… 2.02e13 2022-0… city … Room… \"Like … \"Quiet… https:…  367042\n5 275344 https://w… 2.02e13 2022-0… city … 15 m… \"Lovel… \"Bus s… https:… 1439258\n6 289234 https://w… 2.02e13 2022-0… city … Book… \"This … \"A qui… https:…  367042\n# … with 65 more variables: host_url <chr>, host_name <chr>, host_since <chr>,\n#   host_location <chr>, host_about <chr>, host_response_time <chr>,\n#   host_response_rate <chr>, host_acceptance_rate <chr>,\n#   host_is_superhost <chr>, host_thumbnail_url <chr>, host_picture_url <chr>,\n#   host_neighbourhood <chr>, host_listings_count <int>,\n#   host_total_listings_count <int>, host_verifications <chr>,\n#   host_has_profile_pic <chr>, host_identity_verified <chr>, …\n\n\n\nlist(listings)\n\n[[1]]\n# A tibble: 4,161 × 75\n       id listing…¹ scrap…² last_…³ source name  descr…⁴ neigh…⁵ pictu…⁶ host_id\n    <dbl> <chr>       <dbl> <chr>   <chr>  <chr> <chr>   <chr>   <chr>     <int>\n 1  50646 https://… 2.02e13 2022-0… previ… Plea… \"Fully… \"The s… https:…  227796\n 2  71609 https://… 2.02e13 2022-0… city … Ensu… \"For 3… \"\"      https:…  367042\n 3  71896 https://… 2.02e13 2022-0… city … B&B … \"<b>Th… \"\"      https:…  367042\n 4  71903 https://… 2.02e13 2022-0… city … Room… \"Like … \"Quiet… https:…  367042\n 5 275344 https://… 2.02e13 2022-0… city … 15 m… \"Lovel… \"Bus s… https:… 1439258\n 6 289234 https://… 2.02e13 2022-0… city … Book… \"This … \"A qui… https:…  367042\n 7 294281 https://… 2.02e13 2022-0… city … 5 mi… \"I hav… \"\"      https:… 1521514\n 8 324945 https://… 2.02e13 2022-0… city … Cozy… \"<b>Th… \"\"      https:… 1439258\n 9 330089 https://… 2.02e13 2022-0… city … Cozy… \"A uni… \"\"      https:… 1439258\n10 330095 https://… 2.02e13 2022-0… city … 10 m… \"Cosy,… \"Near … https:… 1439258\n# … with 4,151 more rows, 65 more variables: host_url <chr>, host_name <chr>,\n#   host_since <chr>, host_location <chr>, host_about <chr>,\n#   host_response_time <chr>, host_response_rate <chr>,\n#   host_acceptance_rate <chr>, host_is_superhost <chr>,\n#   host_thumbnail_url <chr>, host_picture_url <chr>, host_neighbourhood <chr>,\n#   host_listings_count <int>, host_total_listings_count <int>,\n#   host_verifications <chr>, host_has_profile_pic <chr>, …\n\ncolnames(listings)\n\n [1] \"id\"                                          \n [2] \"listing_url\"                                 \n [3] \"scrape_id\"                                   \n [4] \"last_scraped\"                                \n [5] \"source\"                                      \n [6] \"name\"                                        \n [7] \"description\"                                 \n [8] \"neighborhood_overview\"                       \n [9] \"picture_url\"                                 \n[10] \"host_id\"                                     \n[11] \"host_url\"                                    \n[12] \"host_name\"                                   \n[13] \"host_since\"                                  \n[14] \"host_location\"                               \n[15] \"host_about\"                                  \n[16] \"host_response_time\"                          \n[17] \"host_response_rate\"                          \n[18] \"host_acceptance_rate\"                        \n[19] \"host_is_superhost\"                           \n[20] \"host_thumbnail_url\"                          \n[21] \"host_picture_url\"                            \n[22] \"host_neighbourhood\"                          \n[23] \"host_listings_count\"                         \n[24] \"host_total_listings_count\"                   \n[25] \"host_verifications\"                          \n[26] \"host_has_profile_pic\"                        \n[27] \"host_identity_verified\"                      \n[28] \"neighbourhood\"                               \n[29] \"neighbourhood_cleansed\"                      \n[30] \"neighbourhood_group_cleansed\"                \n[31] \"latitude\"                                    \n[32] \"longitude\"                                   \n[33] \"property_type\"                               \n[34] \"room_type\"                                   \n[35] \"accommodates\"                                \n[36] \"bathrooms\"                                   \n[37] \"bathrooms_text\"                              \n[38] \"bedrooms\"                                    \n[39] \"beds\"                                        \n[40] \"amenities\"                                   \n[41] \"price\"                                       \n[42] \"minimum_nights\"                              \n[43] \"maximum_nights\"                              \n[44] \"minimum_minimum_nights\"                      \n[45] \"maximum_minimum_nights\"                      \n[46] \"minimum_maximum_nights\"                      \n[47] \"maximum_maximum_nights\"                      \n[48] \"minimum_nights_avg_ntm\"                      \n[49] \"maximum_nights_avg_ntm\"                      \n[50] \"calendar_updated\"                            \n[51] \"has_availability\"                            \n[52] \"availability_30\"                             \n[53] \"availability_60\"                             \n[54] \"availability_90\"                             \n[55] \"availability_365\"                            \n[56] \"calendar_last_scraped\"                       \n[57] \"number_of_reviews\"                           \n[58] \"number_of_reviews_ltm\"                       \n[59] \"number_of_reviews_l30d\"                      \n[60] \"first_review\"                                \n[61] \"last_review\"                                 \n[62] \"review_scores_rating\"                        \n[63] \"review_scores_accuracy\"                      \n[64] \"review_scores_cleanliness\"                   \n[65] \"review_scores_checkin\"                       \n[66] \"review_scores_communication\"                 \n[67] \"review_scores_location\"                      \n[68] \"review_scores_value\"                         \n[69] \"license\"                                     \n[70] \"instant_bookable\"                            \n[71] \"calculated_host_listings_count\"              \n[72] \"calculated_host_listings_count_entire_homes\" \n[73] \"calculated_host_listings_count_private_rooms\"\n[74] \"calculated_host_listings_count_shared_rooms\" \n[75] \"reviews_per_month\"                           \n\n\n\nlistings_sf <- st_as_sf(listings, coords = c(\"longitude\",\"latitude\"),\n         crs = 4326) %>%\n  st_transform(crs = 3414)\n\n\ncoords argument requires you to provide the column name of the x-coordinates first then followed by the column name of the y-coordinates.\ncrs argument requires you to provide the coordinates system in epsg format. EPSG: 4326 is wgs84 Geographic Coordinate System and EPSG: 3414 is Singapore SVY21 Projected Coordinate System. You can search for other country’s epsg code by referring to epsg.io.\n%>% is used to nest st_transform() to transform the newly created simple feature data frame into svy21 projected coordinates system.\n\n\nglimpse(listings_sf)\n\nRows: 4,161\nColumns: 74\n$ id                                           <dbl> 50646, 71609, 71896, 7190…\n$ listing_url                                  <chr> \"https://www.airbnb.com/r…\n$ scrape_id                                    <dbl> 2.022092e+13, 2.022092e+1…\n$ last_scraped                                 <chr> \"2022-09-23\", \"2022-09-22…\n$ source                                       <chr> \"previous scrape\", \"city …\n$ name                                         <chr> \"Pleasant Room along Buki…\n$ description                                  <chr> \"Fully furnished bedroom …\n$ neighborhood_overview                        <chr> \"The serenity & quiet sur…\n$ picture_url                                  <chr> \"https://a0.muscache.com/…\n$ host_id                                      <int> 227796, 367042, 367042, 3…\n$ host_url                                     <chr> \"https://www.airbnb.com/u…\n$ host_name                                    <chr> \"Sujatha\", \"Belinda\", \"Be…\n$ host_since                                   <chr> \"2010-09-08\", \"2011-01-29…\n$ host_location                                <chr> \"Singapore\", \"Singapore\",…\n$ host_about                                   <chr> \"I am a working professio…\n$ host_response_time                           <chr> \"a few days or more\", \"wi…\n$ host_response_rate                           <chr> \"0%\", \"100%\", \"100%\", \"10…\n$ host_acceptance_rate                         <chr> \"N/A\", \"100%\", \"100%\", \"1…\n$ host_is_superhost                            <chr> \"f\", \"f\", \"f\", \"f\", \"f\", …\n$ host_thumbnail_url                           <chr> \"https://a0.muscache.com/…\n$ host_picture_url                             <chr> \"https://a0.muscache.com/…\n$ host_neighbourhood                           <chr> \"Bukit Timah\", \"Tampines\"…\n$ host_listings_count                          <int> 1, 6, 6, 6, 44, 6, 7, 44,…\n$ host_total_listings_count                    <int> 4, 15, 15, 15, 57, 15, 8,…\n$ host_verifications                           <chr> \"['email', 'phone', 'work…\n$ host_has_profile_pic                         <chr> \"t\", \"t\", \"t\", \"t\", \"t\", …\n$ host_identity_verified                       <chr> \"t\", \"t\", \"t\", \"t\", \"t\", …\n$ neighbourhood                                <chr> \"Singapore, Singapore\", \"…\n$ neighbourhood_cleansed                       <chr> \"Bukit Timah\", \"Tampines\"…\n$ neighbourhood_group_cleansed                 <chr> \"Central Region\", \"East R…\n$ property_type                                <chr> \"Private room in rental u…\n$ room_type                                    <chr> \"Private room\", \"Private …\n$ accommodates                                 <int> 2, 6, 1, 2, 1, 4, 2, 1, 1…\n$ bathrooms                                    <lgl> NA, NA, NA, NA, NA, NA, N…\n$ bathrooms_text                               <chr> \"1 bath\", \"1 private bath…\n$ bedrooms                                     <int> 1, 2, 1, 1, 1, 3, 1, 1, N…\n$ beds                                         <int> 1, 3, 1, 2, 1, 5, 1, 1, 1…\n$ amenities                                    <chr> \"[\\\"Gym\\\", \\\"Washer\\\", \\\"…\n$ price                                        <chr> \"$80.00\", \"$145.00\", \"$85…\n$ minimum_nights                               <int> 92, 92, 92, 92, 60, 92, 9…\n$ maximum_nights                               <int> 730, 1125, 1125, 1125, 99…\n$ minimum_minimum_nights                       <int> 92, 92, 92, 92, 60, 92, 9…\n$ maximum_minimum_nights                       <int> 92, 92, 92, 92, 60, 92, 9…\n$ minimum_maximum_nights                       <int> 730, 1125, 1125, 1125, 99…\n$ maximum_maximum_nights                       <int> 730, 1125, 1125, 1125, 99…\n$ minimum_nights_avg_ntm                       <dbl> 92, 92, 92, 92, 60, 92, 9…\n$ maximum_nights_avg_ntm                       <dbl> 730, 1125, 1125, 1125, 99…\n$ calendar_updated                             <lgl> NA, NA, NA, NA, NA, NA, N…\n$ has_availability                             <chr> \"t\", \"t\", \"t\", \"t\", \"t\", …\n$ availability_30                              <int> 30, 5, 0, 30, 0, 0, 30, 5…\n$ availability_60                              <int> 60, 35, 1, 60, 0, 0, 60, …\n$ availability_90                              <int> 90, 65, 1, 90, 21, 10, 90…\n$ availability_365                             <int> 365, 340, 265, 365, 296, …\n$ calendar_last_scraped                        <chr> \"2022-09-23\", \"2022-09-22…\n$ number_of_reviews                            <int> 18, 20, 24, 47, 14, 12, 1…\n$ number_of_reviews_ltm                        <int> 0, 0, 0, 0, 1, 0, 0, 3, 2…\n$ number_of_reviews_l30d                       <int> 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ first_review                                 <chr> \"2014-04-18\", \"2011-12-19…\n$ last_review                                  <chr> \"2014-12-26\", \"2020-01-17…\n$ review_scores_rating                         <dbl> 4.56, 4.44, 4.16, 4.41, 4…\n$ review_scores_accuracy                       <dbl> 4.72, 4.37, 4.22, 4.39, 4…\n$ review_scores_cleanliness                    <dbl> 4.78, 4.00, 4.09, 4.52, 4…\n$ review_scores_checkin                        <dbl> 4.78, 4.63, 4.43, 4.63, 4…\n$ review_scores_communication                  <dbl> 4.94, 4.78, 4.43, 4.64, 4…\n$ review_scores_location                       <dbl> 4.72, 4.26, 4.17, 4.50, 4…\n$ review_scores_value                          <dbl> 4.50, 4.32, 4.04, 4.36, 4…\n$ license                                      <chr> \"\", \"\", \"\", \"\", \"S0399\", …\n$ instant_bookable                             <chr> \"f\", \"f\", \"t\", \"f\", \"f\", …\n$ calculated_host_listings_count               <int> 1, 6, 6, 6, 44, 6, 7, 44,…\n$ calculated_host_listings_count_entire_homes  <int> 0, 0, 0, 0, 2, 0, 1, 2, 2…\n$ calculated_host_listings_count_private_rooms <int> 1, 6, 6, 6, 42, 6, 6, 42,…\n$ calculated_host_listings_count_shared_rooms  <int> 0, 0, 0, 0, 0, 0, 0, 0, 0…\n$ reviews_per_month                            <dbl> 0.18, 0.15, 0.18, 0.34, 0…\n$ geometry                                     <POINT [m]> POINT (22646.02 351…\n\n\n\nbuffer_cycling <- st_buffer(cyclingpath, \n                               dist=5, nQuadSegs = 30)\n\n#create new column\nbuffer_cycling$AREA <- st_area(buffer_cycling)\n\n#Sum area\nsum(buffer_cycling$AREA)\n\n1556978 [m^2]\n\n\nCount number of preschool on topi each planning zone\n\nmpsz3414$`PreSch Count`<- lengths(st_intersects(mpsz3414, preschool3414))\n\n\nsummary(mpsz3414$`PreSch Count`)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n   0.00    0.00    3.00    5.96    9.00   58.00 \n\n\n\nplot(mpsz3414['PreSch Count'])\n\n\n\n\n\ntop_n(mpsz3414, 1, `PreSch Count`)\n\nSimple feature collection with 1 feature and 16 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 39655.33 ymin: 35966 xmax: 42940.57 ymax: 38622.37\nProjected CRS: SVY21 / Singapore TM\n  OBJECTID SUBZONE_NO     SUBZONE_N SUBZONE_C CA_IND PLN_AREA_N PLN_AREA_C\n1      189          2 TAMPINES EAST    TMSZ02      N   TAMPINES         TM\n     REGION_N REGION_C          INC_CRC FMEL_UPD_D   X_ADDR   Y_ADDR SHAPE_Leng\n1 EAST REGION       ER 21658EAAF84F4D8D 2014-12-05 41122.55 37392.39   10180.62\n  SHAPE_Area                       geometry PreSch Count\n1    4339824 MULTIPOLYGON (((42196.76 38...           58\n\n\n\nmpsz3414$Area <- mpsz3414 %>%\n  st_area()\n\nmpsz3414$Area\n\nUnits: [m^2]\n  [1]  1630379.27   559816.25   160807.50   595428.89   387429.44  1030378.79\n  [7]   551732.05   290184.65  1084792.32   631644.29  1826848.56   293706.40\n [13]  1844060.67   392563.34   506588.96 36707720.92  4207271.09  4963787.10\n [19]  2206319.46  4919132.37  3449640.61   103238.48  1127297.24  2701634.34\n [25]   276826.81    63664.97   196619.86   365333.43  1454827.65   853206.57\n [31]  1070723.26   533017.39   442502.83    93140.44   411722.82   587222.68\n [37]    39437.94   188767.49   133006.94   448127.58   521200.52   350787.56\n [43]   261843.90  1590339.80   886954.81   223206.60   200052.68   710568.70\n [49]   748684.00   591779.00  1755950.44   340743.34   329437.93   170664.30\n [55]   368482.99  7601894.00   221973.34   280174.77   214250.30   173121.77\n [61]   533671.25   145518.66   635704.06   503220.75    55681.28   116330.00\n [67]  2051652.62  2434594.03  1713623.00   310513.65  1386643.32  1951865.75\n [73]   452471.83   697501.71 27710950.08   171720.62  1097833.70  1053493.75\n [79]  2796006.83  3049720.08   336221.49   741437.99   460550.43   543483.68\n [85]   278303.54  1769495.16   385093.11   558760.53  5675810.85  2096085.23\n [91]   722588.68  2550461.67  2042630.98  3260399.46  1346152.78   171334.39\n [97]    49626.02   193992.35   120171.32   850853.91  1026467.39   167537.07\n[103]  1160017.48  2560995.94   735502.23   948158.91  1321089.88  2997307.46\n[109]  1376830.05  1926622.00  3203306.04  2349378.27   963198.88   485022.31\n[115]  1881305.83  1425083.18  2387277.53  1078992.03   459546.29   247887.63\n[121]   213581.64  2464856.70  1940693.42  2118499.41   485046.92   757907.61\n[127]   351242.25  1312922.68   946651.42   748043.28  1022292.30   410994.54\n[133]   839488.98  1228487.73   554623.68  3392897.36  1878092.48   867750.44\n[139]   639143.56  3260150.86   411403.94   418657.36  2098176.50  1524551.34\n[145]   813382.98  1484296.47  3108023.27  1037281.09  2820171.68   924762.48\n[151]  1806553.08  1404536.64  2379331.53  2077796.55  3142950.11  2636483.26\n[157]  1057165.24  1287949.82   439646.76   746882.30   446241.79   572502.14\n[163]  2959367.63  2158289.72  1347456.01  2338909.49  4297140.71   991039.78\n[169]  2049551.25  2579087.17  3187584.08   906317.39   380201.80   526383.35\n[175]   800298.56   898561.30  1793463.63  3188097.31   494504.07  1061889.35\n[181]  1794461.26  3475209.89  1225673.65  1974371.71  1085080.08  1964134.53\n[187]  1974943.24  4141322.43  4339824.14  1796058.93  2251155.70   776142.49\n[193]  2206305.01  1180126.11  1229894.42   964682.68  1263409.40   369770.56\n[199]  3203663.49  1107267.04  1287387.26   842667.63  1333532.99  1007410.00\n[205]   894516.08   911208.29  1143813.67  1328876.20   609894.67   763183.43\n[211]  2768353.56  3467036.98  7833992.84  2778635.66   862737.09  1583440.16\n[217]   846137.20  1744387.41  1001591.79  1097298.80  4848516.74   668454.44\n[223]   624877.50   674992.00  2330683.26  1093213.49  1861872.04   909418.57\n[229]  2114789.49  3334192.44  1515533.89   944998.45  1990788.40  1829821.69\n[235]  2259239.74  3860324.99   859179.18   546403.86  1948613.21  1078622.32\n[241]   687930.10  3023148.98   441733.44   970068.07  1235901.75  1639669.02\n[247]  2543106.63   955710.19   316882.02  1046417.00   921430.95  7370557.68\n[253]   684704.30  1511487.38  2459098.27  7034806.47  3652031.03  1719704.60\n[259]  1088638.01  1569034.78  1670029.86  2391082.76  1378710.54   923214.75\n[265]  5325421.58  1418284.25  1489246.88  5186128.08 35096028.59  1463278.18\n[271]   995944.77  1455507.86  1499108.63   924866.02  1340167.99  8453312.38\n[277]  1360000.63   143137.94   436368.53  1259743.11  3291405.51  1576001.48\n[283]  1665469.26  1767092.90 69748298.79  2050051.22  1517767.39   595652.14\n[289]  3284130.42  2553463.72   962437.40  1281296.51   758123.46   905921.12\n[295]  1611278.68  1261648.75 17494884.18  3450455.36  1741957.36  1394865.68\n[301]  1074375.12 67250562.96  7235809.44  2147082.07  1511000.36   936415.53\n[307]  1648629.91  1099394.72  2209210.71  1264384.79  2206695.55  1265919.30\n[313] 37147854.46  3916069.34  2175380.06  3621841.18  1432913.06  4387133.12\n[319]  1200804.56  2450783.61  1540733.67  1635808.13  2241386.62\n\n\n\nmpsz3414 <- mpsz3414 %>%\n  mutate(`PreSch Density` = `PreSch Count`/Area * 1000000)\n\n\nhist(mpsz3414$`PreSch Density`)\n\n\n\n\n\nggplot(data = mpsz3414,\n       aes(x = as.numeric(`PreSch Density`))) +\n  geom_histogram(bins=20, \n                 color = 'black',\n                 fill = 'light blue')+\n  labs(title = \"Are pre-school evenly distributed in Singapore?\",\n       subtitle= \"There are many planning sub-zones with a single pre-school, on the other hand, \\nthere are a few planning sub-zones with at least 20 pre-schools\",\n      x = \"Pre-school density (per km sq)\",\n      y = \"Frequency\")\n\n\n\n\n\nggplot(data = mpsz3414, \n       aes( x = as.numeric(`PreSch Density`), y = as.numeric(`PreSch Count`))) + \n  geom_point(size = 1.5, color = 'pink', shape = 23) +\n  labs(  x = \"Pre-school density (per km sq)\",\n         y = \"Pre-school count\")"
  },
  {
    "objectID": "Hands_on_Ex_1.html#choropleth-mapping-with-r",
    "href": "Hands_on_Ex_1.html#choropleth-mapping-with-r",
    "title": "Hands-on Exercise 1",
    "section": "Choropleth Mapping with R",
    "text": "Choropleth Mapping with R\nRequire package readr, tidyr, dplyr, sf\n\npacman::p_load(sf, tmap, tidyverse)\n\n\nImport Data\n\nmpsz <- st_read(dsn = \"Hands-on_Ex01/data/geospatial\", \n                layer = \"MP14_SUBZONE_WEB_PL\")\n\nReading layer `MP14_SUBZONE_WEB_PL' from data source \n  `/Users/gladwinlam/R Quarto/gladwinlam/ISSS624/Hands-on_Ex01/data/geospatial' \n  using driver `ESRI Shapefile'\nSimple feature collection with 323 features and 15 fields\nGeometry type: MULTIPOLYGON\nDimension:     XY\nBounding box:  xmin: 2667.538 ymin: 15748.72 xmax: 56396.44 ymax: 50256.33\nProjected CRS: SVY21\n\npopdata <- read_csv(\"Hands-on_Ex01/data/aspatial/respopagesextod2011to2020.csv\")\n\nRows: 984656 Columns: 7\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (5): PA, SZ, AG, Sex, TOD\ndbl (2): Pop, Time\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\n\n\nData Cleaning and Wrangling\nExtract only 2022 data. Columns needed are PA, SZ, Young, Economy Active, Aged, Total, Dependency\nYOUNG: age group 0 to 4 until age groyup 20 to 24, ECONOMY ACTIVE: age group 25-29 until age group 60-64, AGED: age group 65 and above, TOTAL: all age group, and DEPENDENCY: the ratio between young and aged against economy active group\n\npopdata2020 <- popdata %>%\n  filter(Time == 2020) %>%\n  group_by(PA, SZ, AG) %>%\n  summarise(`POP` = sum(`Pop`)) %>%\n  ungroup()%>%\n  pivot_wider(names_from=AG, \n              values_from=POP) %>%\n  mutate(YOUNG = rowSums(.[3:6])\n         +rowSums(.[12])) %>%\nmutate(`ECONOMY ACTIVE` = rowSums(.[7:11])+\nrowSums(.[13:15]))%>%\nmutate(`AGED`=rowSums(.[16:21])) %>%\nmutate(`TOTAL`=rowSums(.[3:21])) %>%  \nmutate(`DEPENDENCY` = (`YOUNG` + `AGED`)\n/`ECONOMY ACTIVE`) %>%\n  select(`PA`, `SZ`, `YOUNG`, \n       `ECONOMY ACTIVE`, `AGED`, \n       `TOTAL`, `DEPENDENCY`)\n\n`summarise()` has grouped output by 'PA', 'SZ'. You can override using the\n`.groups` argument.\n\n\n\n\nMaking PA and SZ columns uppercase\nGoal is to join attribute data and geospatial data\n\npopdata2020 <- popdata2020 %>%\n  mutate_at(.vars = vars(PA, SZ), \n          .funs = funs(toupper)) %>%\n  filter(`ECONOMY ACTIVE` > 0)\n\nWarning: `funs()` was deprecated in dplyr 0.8.0.\nPlease use a list of either functions or lambdas: \n\n  # Simple named list: \n  list(mean = mean, median = median)\n\n  # Auto named with `tibble::lst()`: \n  tibble::lst(mean, median)\n\n  # Using lambdas\n  list(~ mean(., trim = .2), ~ median(., na.rm = TRUE))\n\n#left join data tables\n\nmpsz_pop2020 <- left_join(mpsz, popdata2020, \n          by = c(\"SUBZONE_N\" = \"SZ\"))\n\nWrite mpsz_pop2020 to a rds file\n\nwrite_rds(mpsz_pop2020, \"Hands-on_Ex01/data/rds/mpszpop2020.rds\")"
  },
  {
    "objectID": "Hands_on_Ex_1.html#plotting-choropleth-map",
    "href": "Hands_on_Ex_1.html#plotting-choropleth-map",
    "title": "Hands-on Exercise 1",
    "section": "Plotting choropleth map",
    "text": "Plotting choropleth map\nPlot a map where fill of location is dependent on Dependency column Basic plot:\n\ntmap_mode(\"plot\")\n\ntmap mode set to plotting\n\nqtm(mpsz_pop2020, \n    fill = \"DEPENDENCY\")\n\n\n\n\nAdvance Plot with more elements used:\n\ntm_shape(mpsz_pop2020)+\n  tm_fill(\"DEPENDENCY\", \n          style = \"quantile\", \n          palette = \"Blues\",\n          title = \"Dependency ratio\") +\n  tm_layout(main.title = \"Distribution of Dependency Ratio by planning subzone\",\n            main.title.position = \"center\",\n            main.title.size = 1.2,\n            legend.height = 0.45, \n            legend.width = 0.35,\n            frame = TRUE) +\n  tm_borders(alpha = 0.5) +\n  tm_compass(type=\"8star\", size = 2) +\n  tm_scale_bar() +\n  tm_grid(alpha =0.2) +\n  tm_credits(\"Source: Planning Sub-zone boundary from Urban Redevelopment Authorithy (URA)\\n and Population data from Department of Statistics DOS\", \n             position = c(\"left\", \"bottom\"))\n\n\n\n\n\nDrawing a base map\n\ntm_shape(mpsz_pop2020) +\n  tm_polygons()\n\n\n\n\nAdding fill based on Dependency. Add under tm_polygons()\n\ntm_shape(mpsz_pop2020) +\n  tm_polygons(\"DEPENDENCY\")\n\n\n\n\nIf we choose to use tm_fill, it does not include borders. This is because tm_polygons() is actually tm_fill() + tm_borders()\n\ntm_shape(mpsz_pop2020)+\n  tm_fill(\"DEPENDENCY\")\n\n\n\n\n\ntm_shape(mpsz_pop2020)+\n  tm_fill(\"DEPENDENCY\") +\n  tm_borders(lwd = 0.1,  alpha = 1) #alpha param controls transparency\n\n\n\n\nOther arguments for tm_borders: col = border colour, lwd = border line width. The default is 1, and lty = border line type. The default is “solid”."
  },
  {
    "objectID": "Hands_on_Ex_1.html#data-classification-with-tmap",
    "href": "Hands_on_Ex_1.html#data-classification-with-tmap",
    "title": "Hands-on Exercise 1",
    "section": "Data Classification with Tmap",
    "text": "Data Classification with Tmap\nClassify observations into data ranges or classes\ntmap provides a total ten data classification methods, namely: fixed, sd, equal, pretty (default), quantile, kmeans, hclust, bclust, fisher, and jenks.\nQuantile classification Method\n\ntm_shape(mpsz_pop2020)+\n  tm_fill(\"DEPENDENCY\",\n          n = 5,\n          style = \"jenks\") +\n  tm_borders(alpha = 0.5)\n\n\n\n\nEqual Data classification Method\n\ntm_shape(mpsz_pop2020)+\n  tm_fill(\"DEPENDENCY\",\n          n = 5,\n          style = \"equal\") +\n  tm_borders(alpha = 0.5)"
  },
  {
    "objectID": "Hands_on_Ex_1.html#building-choropleth-map-with-self-defined-breaks",
    "href": "Hands_on_Ex_1.html#building-choropleth-map-with-self-defined-breaks",
    "title": "Hands-on Exercise 1",
    "section": "Building Choropleth map with self defined breaks",
    "text": "Building Choropleth map with self defined breaks\nWe can define the breaking points of the classes by adding it into the tm_fill() argument.\nLets try using quantile to break.\n\nsummary(mpsz_pop2020$DEPENDENCY)\n\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's \n 0.0000  0.6519  0.7025  0.7742  0.7645 19.0000      92 \n\n\nBased on above, we will follow the quantiles to set as our break points\n\ntm_shape(mpsz_pop2020)+\n  tm_fill(\"DEPENDENCY\",\n          breaks = c(0, 0.60, 0.70, 0.80, 0.90, 1.00)) +\n  tm_borders(alpha = 0.5)\n\nWarning: Values have found that are higher than the highest break\n\n\n\n\n\nWe can also define our colour scheme by using the palette argument in the tm_fill()\n\ntm_shape(mpsz_pop2020)+\n  tm_fill(\"DEPENDENCY\",\n          n = 6,\n          style = \"quantile\",\n          palette = \"Blues\") +\n  tm_borders(alpha = 0.5)\n\n\n\n\nIf we want to reverse shading (ie darker means lower dependency), wwe add a “-” in front of colour in the palette.\n\ntm_shape(mpsz_pop2020)+\n  tm_fill(\"DEPENDENCY\",\n          style = \"quantile\",\n          palette = \"-Greens\") +\n  tm_borders(alpha = 0.5)"
  },
  {
    "objectID": "Hands_on_Ex_1.html#map-layouts",
    "href": "Hands_on_Ex_1.html#map-layouts",
    "title": "Hands-on Exercise 1",
    "section": "Map Layouts",
    "text": "Map Layouts\nWe can add objects into map such as compass, margins, adjust aspects ratio etc\n\ntm_shape(mpsz_pop2020)+\n  tm_fill(\"DEPENDENCY\", \n          style = \"jenks\", \n          palette = \"Blues\", \n          legend.hist = TRUE, \n          legend.is.portrait = TRUE,\n          legend.hist.z = 0.1) +\n  tm_layout(main.title = \"Distribution of Dependency Ratio by planning subzone \\n(Jenks classification)\",\n            main.title.position = \"center\",\n            main.title.size = 1,\n            legend.height = 0.45, \n            legend.width = 0.35,\n            legend.outside = FALSE,\n            legend.position = c(\"right\", \"bottom\"),\n            frame = FALSE) +\n  tm_borders(alpha = 0.5)"
  },
  {
    "objectID": "Hands_on_Ex_1.html#map-style",
    "href": "Hands_on_Ex_1.html#map-style",
    "title": "Hands-on Exercise 1",
    "section": "Map style",
    "text": "Map style\nUse tmap_style() to change\n\ntm_shape(mpsz_pop2020)+\n  tm_fill(\"DEPENDENCY\", \n          style = \"quantile\", \n          palette = \"-Greens\") +\n  tm_borders(alpha = 0.5) +\n  tmap_style(\"classic\")\n\ntmap style set to \"classic\"\n\n\nother available styles are: \"white\", \"gray\", \"natural\", \"cobalt\", \"col_blind\", \"albatross\", \"beaver\", \"bw\", \"watercolor\""
  },
  {
    "objectID": "Hands_on_Ex_1.html#adding-objects",
    "href": "Hands_on_Ex_1.html#adding-objects",
    "title": "Hands-on Exercise 1",
    "section": "Adding objects",
    "text": "Adding objects\nEg compass, scale bar, grid\n\ntm_shape(mpsz_pop2020)+\n  tm_fill(\"DEPENDENCY\", \n          style = \"quantile\", \n          palette = \"Blues\",\n          title = \"No. of persons\") +\n  tm_layout(main.title = \"Distribution of Dependency Ratio \\nby planning subzone\",\n            main.title.position = \"center\",\n            main.title.size = 1.2,\n            legend.height = 0.45, \n            legend.width = 0.35,\n            frame = TRUE) +\n  tm_borders(alpha = 0.5) +\n  tm_compass(type=\"8star\", size = 2) +\n  tm_scale_bar(width = 0.15) +\n  tm_grid(lwd = 0.1, alpha = 0.2) +\n  tm_credits(\"Source: Planning Sub-zone boundary from Urban Redevelopment Authorithy (URA)\\n and Population data from Department of Statistics DOS\", \n             position = c(\"left\", \"bottom\"))\n\n\n\n\n\ntmap_style(\"white\")\n\ntmap style set to \"white\"\n\n\nother available styles are: \"gray\", \"natural\", \"cobalt\", \"col_blind\", \"albatross\", \"beaver\", \"bw\", \"classic\", \"watercolor\" \n\n\n##Faucet graphs\nWe can also have multiple small map images in one image\nWe can do this by controlling tm_fill and tm_layout\n\ntm_shape(mpsz_pop2020)+\n  tm_fill(c(\"YOUNG\", \"AGED\"),\n          style = \"equal\", \n          palette = \"Blues\") +\n  tm_layout(legend.position = c(\"right\", \"bottom\")) +\n  tm_borders(alpha = 0.5) +\n  tmap_style(\"white\")\n\ntmap style set to \"white\"\n\n\nother available styles are: \"gray\", \"natural\", \"cobalt\", \"col_blind\", \"albatross\", \"beaver\", \"bw\", \"classic\", \"watercolor\" \n\n\n\n\n\n\ntm_shape(mpsz_pop2020)+ \n  tm_polygons(c(\"DEPENDENCY\",\"AGED\"),\n          style = c(\"equal\", \"quantile\"), \n          palette = list(\"Blues\",\"Greens\")) +\n  tm_layout(legend.position = c(\"right\", \"bottom\"))\n\n\n\n\nusing tm_facets\n\ntm_shape(mpsz_pop2020) +\n  tm_fill(\"DEPENDENCY\",\n          style = \"quantile\",\n          palette = \"Blues\",\n          thres.poly = 0) + \n  tm_facets(by=\"REGION_N\", \n            free.coords=TRUE, \n            drop.shapes=TRUE) +\n  tm_layout(legend.show = FALSE,\n            title.position = c(\"center\", \"center\"), \n            title.size = 20) +\n  tm_borders(alpha = 0.5)\n\nWarning: The argument drop.shapes has been renamed to drop.units, and is\ntherefore deprecated\n\n\n\n\n\n\nyoungmap <- tm_shape(mpsz_pop2020)+ \n  tm_polygons(\"YOUNG\", \n              style = \"quantile\", \n              palette = \"Blues\")\n\nagedmap <- tm_shape(mpsz_pop2020)+ \n  tm_polygons(\"AGED\", \n              style = \"quantile\", \n              palette = \"Blues\")\n\ntmap_arrange(youngmap, agedmap, asp=1, ncol=2)\n\n\n\n\nMapping based on selection criterion\n\ntm_shape(mpsz_pop2020[mpsz_pop2020$REGION_N==\"CENTRAL REGION\", ])+\n  tm_fill(\"DEPENDENCY\", \n          style = \"quantile\", \n          palette = \"Blues\", \n          legend.hist = TRUE, \n          legend.is.portrait = TRUE,\n          legend.hist.z = 0.1) +\n  tm_layout(legend.outside = TRUE,\n            legend.height = 0.45, \n            legend.width = 5.0,\n            legend.position = c(\"right\", \"bottom\"),\n            frame = FALSE) +\n  tm_borders(alpha = 0.5)\n\nWarning in pre_process_gt(x, interactive = interactive, orig_crs =\ngm$shape.orig_crs): legend.width controls the width of the legend within a map.\nPlease use legend.outside.size to control the width of the outside legend"
  }
]